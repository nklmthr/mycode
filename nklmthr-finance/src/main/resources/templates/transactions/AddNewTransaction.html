<html>

<head>
	<title>Transactions</title>
	<link rel="stylesheet" type="text/css" th:href="@{/assets/css/styles.css}" />
	<link rel="stylesheet" type="text/css" th:href="@{/webjars/bootstrap/css/bootstrap.min.css}" />
	<link rel="stylesheet" type="text/css" th:href="@{/css/style.css}" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
		integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A=="
		crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>
	<div>
		<div th:insert="headerFragment.html ::header('Transactions')"></div>
	</div>
	<br /><br />
	<h2>Add Transactions</h2>
	<br />
	<br />
	<form action="#" th:action="@{/saveTransaction}" th:object="${transaction}" method="POST">

		<!-- Add hidden form field to handle update -->
		<input type="hidden" th:field="*{id}" />
		<label>Date
			<input type="date" th:field="*{date}">
		</label>
		<label>
			Description
			<input type="text" size="100" placeholder="Groceries..." required="true" th:field="*{description}">
		</label>
		<br />
		<label>Category
			<select th:field="*{category}">
				<option th:each="category : ${categoryList}" th:value="${category.id}" th:text="${category.name}">
				</option>
			</select>
		</label>
		<label>Account
			<select th:field="*{account}">
				<option th:each="account : ${accountList}" th:value="${account.id}" th:text="${account.name}"></option>
			</select>
		</label>
		<br />
		<label>Amount
			<input type="text" size="15" inputmode="numeric" th:field="*{amount}" required="true" placeholder="0.0" />
		</label>
		<label>Type
			<select th:field="*{transactionType}">
				<option th:each="transactionType:${transactionTypes}" th:value="${transactionType.name}"
					th:text="${transactionType.name}" />
			</select>
		</label>
		<br /><br />
		<button class="addButtonClass" type="submit">Add Transaction</button>
		<br />
	</form>
	<br />
	<a th:href="@{/Transactions}">Back to Transactions List</a>
	<br />

	<br />
	<h3>Recent Transactions</h3>
	<div th:insert="transactions/ListTransactionsFragment ::transactionListFragment(false)"></div>
</body>

</html>